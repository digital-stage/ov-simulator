{"ast":null,"code":"import _defineProperty from \"/Users/tobias/Developer/digitalstage/ov-simulator/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { ServerDeviceEvents } from \"../types/SocketEvents\";\nimport upsert from \"./upsert\";\n\nfunction SoundCardReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    byId: {},\n    allIds: []\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ServerDeviceEvents.SOUND_CARD_ADDED:\n      {\n        var soundCard = action.payload;\n        return {\n          byId: _objectSpread(_objectSpread({}, state.byId), {}, _defineProperty({}, soundCard._id, soundCard)),\n          allIds: upsert(state.allIds, soundCard._id)\n        };\n      }\n\n    case ServerDeviceEvents.SOUND_CARD_CHANGED:\n      {\n        var _soundCard = action.payload;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          byId: _objectSpread(_objectSpread({}, state.byId), {}, _defineProperty({}, _soundCard._id, _objectSpread(_objectSpread({}, state.byId[_soundCard._id]), _soundCard)))\n        });\n      }\n\n    case ServerDeviceEvents.SOUND_CARD_REMOVED:\n      {\n        var removedId = action.payload;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          byId: Object.entries(state.byId).filter(function (entry) {\n            return entry[0] !== removedId;\n          }),\n          allIds: state.allIds.filter(function (id) {\n            return id !== removedId;\n          })\n        });\n      }\n\n    default:\n      throw new Error();\n  }\n}\n\n_c = SoundCardReducer;\nexport default SoundCardReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"SoundCardReducer\");","map":{"version":3,"sources":["/Users/tobias/Developer/digitalstage/ov-simulator/utils/reducers/SoundCardReducer.ts"],"names":["ServerDeviceEvents","upsert","SoundCardReducer","state","byId","allIds","action","type","SOUND_CARD_ADDED","soundCard","payload","_id","SOUND_CARD_CHANGED","SOUND_CARD_REMOVED","removedId","Object","entries","filter","entry","id","Error"],"mappings":";;;;;;AACA,SAAQA,kBAAR,QAAiC,uBAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAcA,SAASC,gBAAT,GAMe;AAAA,MANWC,KAMX,uEAN+B;AAC1CC,IAAAA,IAAI,EAAE,EADoC;AAE1CC,IAAAA,MAAM,EAAE;AAFkC,GAM/B;AAAA,MAHZC,MAGY;;AACX,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKP,kBAAkB,CAACQ,gBAAxB;AAA0C;AACtC,YAAMC,SAAoB,GAAGH,MAAM,CAACI,OAApC;AACA,eAAO;AACHN,UAAAA,IAAI,kCACGD,KAAK,CAACC,IADT,2BAECK,SAAS,CAACE,GAFX,EAEiBF,SAFjB,EADD;AAKHJ,UAAAA,MAAM,EAAEJ,MAAM,CAASE,KAAK,CAACE,MAAf,EAAuBI,SAAS,CAACE,GAAjC;AALX,SAAP;AAOH;;AACD,SAAKX,kBAAkB,CAACY,kBAAxB;AAA4C;AACxC,YAAMH,UAAoB,GAAGH,MAAM,CAACI,OAApC;AAEA,+CACOP,KADP;AAEIC,UAAAA,IAAI,kCACGD,KAAK,CAACC,IADT,2BAECK,UAAS,CAACE,GAFX,kCAGOR,KAAK,CAACC,IAAN,CAAWK,UAAS,CAACE,GAArB,CAHP,GAIOF,UAJP;AAFR;AAUH;;AACD,SAAKT,kBAAkB,CAACa,kBAAxB;AAA4C;AACxC,YAAMC,SAAiB,GAAGR,MAAM,CAACI,OAAjC;AACA,+CACOP,KADP;AAEIC,UAAAA,IAAI,EAAEW,MAAM,CAACC,OAAP,CAAeb,KAAK,CAACC,IAArB,EAA2Ba,MAA3B,CAAkC,UAAAC,KAAK;AAAA,mBAAIA,KAAK,CAAC,CAAD,CAAL,KAAaJ,SAAjB;AAAA,WAAvC,CAFV;AAGIT,UAAAA,MAAM,EAAEF,KAAK,CAACE,MAAN,CAAaY,MAAb,CAAoB,UAAAE,EAAE;AAAA,mBAAIA,EAAE,KAAKL,SAAX;AAAA,WAAtB;AAHZ;AAKH;;AAED;AACI,YAAM,IAAIM,KAAJ,EAAN;AAnCR;AAqCH;;KA5CQlB,gB;AA6CT,eAAeA,gBAAf","sourcesContent":["import {SoundCard} from \"../types/SoundCard\";\nimport {ServerDeviceEvents} from \"../types/SocketEvents\";\nimport upsert from \"./upsert\";\n\nexport type SoundCardAction =\n    {type: ServerDeviceEvents.SOUND_CARD_ADDED, payload: SoundCard}\n    | {type: ServerDeviceEvents.SOUND_CARD_CHANGED, payload: SoundCard}\n    | {type: ServerDeviceEvents.SOUND_CARD_REMOVED, payload: string};\n\nexport interface SoundCards {\n    byId: {\n        [id: string]: SoundCard\n    },\n    allIds: string[]\n}\n\nfunction SoundCardReducer(state: SoundCards = {\n    byId: {},\n    allIds: []\n}, action: {\n    type: string;\n    payload: any;\n}): SoundCards {\n    switch (action.type) {\n        case ServerDeviceEvents.SOUND_CARD_ADDED: {\n            const soundCard: SoundCard = action.payload;\n            return {\n                byId: {\n                    ...state.byId,\n                    [soundCard._id]: soundCard\n                },\n                allIds: upsert<string>(state.allIds, soundCard._id)\n            }\n        }\n        case ServerDeviceEvents.SOUND_CARD_CHANGED: {\n            const soundCard: SoundCard = action.payload;\n\n            return {\n                ...state,\n                byId: {\n                    ...state.byId,\n                    [soundCard._id]: {\n                        ...state.byId[soundCard._id],\n                        ...soundCard\n                    }\n                }\n            }\n        }\n        case ServerDeviceEvents.SOUND_CARD_REMOVED: {\n            const removedId: string = action.payload;\n            return {\n                ...state,\n                byId: Object.entries(state.byId).filter(entry => entry[0] !== removedId),\n                allIds: state.allIds.filter(id => id !== removedId)\n            }\n        }\n\n        default:\n            throw new Error();\n    }\n}\nexport default SoundCardReducer;\n"]},"metadata":{},"sourceType":"module"}